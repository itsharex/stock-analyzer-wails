# 在信号列表中展示股票名称

为了在取消 Mock 数据后正确显示股票名称，我们需要解决 `StrategySignal` 结构体中缺失 `Name` 字段的问题。由于后端 `stock_strategy_signals` 表本身不包含 `name` 字段，我们将在数据查询层面进行联表查询，或者在 Service 层填充该字段。

## 1. 后端修改

### 1.1 修改 `StrategySignal` 结构体
- **文件**: `models/money_flow.go`
- **操作**: 在 `StrategySignal` 结构体中添加 `StockName` 字段。
  ```go
  type StrategySignal struct {
      // ...
      StockName string `json:"stockName"` // 新增字段
      // ...
  }
  ```

### 1.2 修改 SQL 查询 (Repository 层)
- **文件**: `repositories/money_flow_repository.go`
- **方法**: `GetLatestSignals` 和 `GetSignalsByStockCode`
- **操作**: 
    - 修改 SQL 语句，使用 `LEFT JOIN stocks` 来获取股票名称。
    - 或者保持 SQL 不变，在 `StrategyService` 中进行二次填充（考虑到性能，JOIN 更好）。
    - 鉴于 `stocks` 表和 `stock_strategy_signals` 表都在 SQLite 中，直接 JOIN 是最高效的。

  ```sql
  SELECT s.id, s.code, st.name as stock_name, ...
  FROM stock_strategy_signals s
  LEFT JOIN stocks st ON s.code = st.code
  ...
  ```

## 2. 前端修改

### 2.1 更新类型定义
- **文件**: `frontend/src/types.ts`
- **操作**: 在 `StrategySignal` 接口中添加 `stockName` 字段。

### 2.2 更新组件展示
- **文件**: `frontend/src/components/SignalList.tsx`
- **操作**:
    - 取消 Mock 数据逻辑。
    - 将原来的 `signal.code` 展示位置修改为优先展示 `signal.stockName`，或者同时展示名称和代码。
    - 示例：`<span className="font-bold text-white text-base">{signal.stockName || signal.code}</span>`

## 3. 验证与清理
- 确保 `wails dev` 重新编译后端以生效新的结构体。
- 验证前端列表是否正确显示了真实的股票名称。
