## 目标
- 把“AI+量价综合智能信号”做成独立弹窗页面，或内部路由跳转的新页面，集中展示信号列表、图表、配置与操作。
- 入口：个股详情页顶部工具栏新增“智能信号”按钮，点击后打开弹窗或跳转到 /signals/:code。
- 页面内部：左侧为带信号标记的 K 线图，右侧为信号列表、AI 解读、配置面板、一键预警/建仓。

## 技术实现
### 1) 路由与入口
- 前端路由（React-Router 或内存路由）：
  - 路径 /signals/:code，组件 SmartSignalsPage。
  - 在 WatchlistDetail 顶部工具栏新增按钮：
    <button onClick={() => navigate(`/signals/${stock.code}`)}>智能信号</button>
  - 或使用弹窗：
    <SmartSignalsModal code={stock.code} onClose={() => setShowModal(false)} />

### 2) 页面/弹窗布局
- 左侧：
  - KLineChart（高度自适应容器），传入 smartSignals 作为 markers；
  - 下方迷你资金流或 OBV 图（可选）。
- 右侧：
  - 信号列表表格（时间、价格、类型、得分、AI 解读、操作）；
  - 配置面板（周期、阈值、权重滑块）；
  - AI 综合解读卡片；
  - 底部操作区：一键“加入预警”、“生成建仓计划”、“关闭”。

### 3) 数据与状态
- 使用 useSmartSignals 计算信号；
- 使用 useWailsAPI 获取 KLineData、moneyFlow、AI drawings；
- 页面级状态：
  - signals: SmartSignal[]；
  - config: SmartConfig；
  - aiSummary: string（由 AI 返回的整段解读）。

### 4) 交互
- 点击列表行 → 图表滚动到对应 K 线并高亮 marker；
- 配置变更 → 实时重算信号并刷新图表标记；
- 一键预警 → 调用 createPriceAlert，弹窗提示成功；
- 一键建仓 → 把当前价格、止损/止盈估算传入 EntryStrategyPanel 模板，可再编辑后确认。

### 5) 弹窗 or 路由选择
- 若采用弹窗：
  - 用 Headless UI 或原生 div+portal，宽度 90vw、高度 90vh，内部左右分栏；
  - 关闭按钮或 ESC 键关闭，返回原详情页。
- 若采用路由页面：
  - 顶部返回按钮 ← 返回上一页；
  - 保持底部 Tab 导航高亮“分析”或新增“信号”Tab。

## 交付物
- SmartSignalsPage.tsx 或 SmartSignalsModal.tsx：主页面/弹窗组件；
- useSmartSignals.ts：信号计算与 AI 解读生成；
- 路由配置或弹窗入口：WatchlistDetail 顶部工具栏新增按钮；
- 后端（如需）可扩展：analyzeSmartSignals 接口，一次性返回 signals + aiSummary。

## 验收标准
- 入口按钮可见，点击 1s 内打开弹窗/页面；
- 图表标记与列表双向联动，无漂移；
- 配置变更实时重算；
- 一键预警/建仓成功提示；
- 弹窗关闭或路由返回后原页面状态保持。